var t=require("nanomorph"),e=require("nanoassert");function n(t,e){var n={};for(var o in t)n[o]=t[o];for(var r in e)n[r]=e[r];return n}module.exports=function(o){e.ok("object"==typeof o,"component is not an object"),e.ok("function"==typeof o.render,"component.render() must be a function"),o.update&&e.ok("function"==typeof o.update,"component.update() must be a function"),Object.assign(o,{state:{},ref:null,setState:function(n){if(!r(o.props,o.state))return function(){};var a="function"==typeof n?n(o.state):n;return e.ok("object"==typeof a,"setState received a value that was not an object"),Object.assign(o.state,a),function(){t(o.ref,o.render(o.props,o.state))}}});function r(t,e){return!o.update||o.update(t,e)}return function(t,a){if(void 0===a&&(a={}),e.ok("object"==typeof a,"external state passed to component must be an object"),o.ref||(o.state=Object.assign(a,o.initialState?o.initialState(t):{}),o.ref=o.render(t,o.state),o.props=t),!r(t,n(o.state,a)))return o.ref;var s=a;o.props=t;for(var i in s)if(o.state[i]!==s[i]){o.setState(s)();break}return o.ref}};
//# sourceMappingURL=loll-component.js.map
