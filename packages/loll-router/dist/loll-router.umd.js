!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){var n=require("nanohref"),e=require("nanomorph"),t=require("mitt"),r="undefined"!=typeof window;function o(n){var e=n[0],t=n[1],r=[],o=new RegExp(e.replace(/\*/g,"(?:.*)").replace(/([:*])(\w+)/g,function(n){return r.push(n.slice(1)),"([\\w-]+)"})+"(?:[/|?w+]$|$)$","ig");return{route:e,handler:t,regex:o,keys:r,params:{},match:function(n){return!!o.test(n)&&function(n,e){var t=null;return e.replace(n.regex,function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var o=function(r){n.keys.forEach(function(t){n.params[t]=e[r]}),t=!0},u=1;u<e.length-2;u++)o(u)}),t?n.params:t}(this,n)}}}module.exports=function(u){void 0===u&&(u=[]);var i=[];u=u.map(o);function a(n){var e=function(n,e,t){void 0===n&&(n="/");for(var r=0,o=e;r<o.length;r+=1){var u=o[r],i=u.match(n);if(!1!==i)return Promise.resolve(u.handler(i||{})).catch(function(n){return console.error(n)})}}(n,u);return e.then(function(n){return n.setAttribute("data-cuppa-root",""),n}),e}function c(n){n&&"function"==typeof n&&i.push(n)}return r?function(r,o,u){var f="function"==typeof t?t():t.default();function p(n,t,o){t=function(n){for(var e=0,t=i;e<t.length;e+=1)n=(0,t[e])(n);return n}(t),window.requestAnimationFrame(function(){var u=document.querySelector("[data-cuppa-root]");u?o?r.replaceChild(t,u):e(u,t):r.appendChild(t),window.history.pushState({},document.title,n),!o&&f.emit("render",t)})}function d(n,e){return a(n).then(function(t){return p(n,t,e)})}return n(function(n){var e=n.pathname;f.emit("navigate",e),d(e)}),window.onpopstate=function(n){d(n.target.location.pathname)},d(window.location.pathname,!0).then(function(){return u&&u()}),Object.assign(f,{use:c,go:d})}:function(n){return a(n).then(function(n){return n.outerHTML})}}});
//# sourceMappingURL=loll-router.umd.js.map
