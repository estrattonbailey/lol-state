!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){var n=require("nanohref"),e=require("nanomorph"),r=require("mitt"),t="undefined"!=typeof window;function o(n){return void 0===n&&(n=window.location),n.href.replace(n.origin,"")}function i(n){var e=n[0],r=n[1],t=[],o=new RegExp(e.replace(/\*/g,"(?:.*)").replace(/([:*])(\w+)/g,function(n){return t.push(n.slice(1)),"([\\w-]+)"})+"(?:[/|?w+]$|$)$","ig");return{route:e,handler:r,regex:o,keys:t,params:{},match:function(n){return!!o.test(n)&&function(n,e){var r=null;return e.replace(n.regex,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var o=function(t){n.keys.forEach(function(r){n.params[r]=e[t]}),r=!0},i=1;i<e.length-2;i++)o(i)}),r?n.params:r}(this,n)}}}function u(n,e){void 0===n&&(n="/");for(var r=0,t=e;r<t.length;r+=1){var o=t[r],i=o.match(n);if(!1!==i)return Promise.resolve(o.handler(i||{})).catch(function(n){return console.error(n)})}return Promise.resolve(!1)}module.exports=function(a){void 0===a&&(a=[]);var f;a=a.map(i);return t?function(t,i,c){var d="function"==typeof r?r():r.default();function l(n,r){return u(n,a).then(function(o){return i=n,u=o,a=r,void window.requestAnimationFrame(function(){f?e(f,u):(t.appendChild(u),f=t.children[0]),window.history.pushState({},document.title,i),!a&&d.emit("render",u)});var i,u,a})}return n(function(n){var e=o(n);d.emit("navigate",e),l(e)}),window.onpopstate=function(n){l(o(n.target.location))},l(o(),!0).then(function(){return c&&c()}),Object.assign(d,{render:function(n,e){void 0===n&&(n=o()),l(n,e)}})}:function(n){return u(n,a).then(function(n){return n.outerHTML})}}});
//# sourceMappingURL=loll-router.umd.js.map
