var e=require("nanohref"),n=require("picodom"),t=n.patch,r=require("mitt"),o=require("@loll/route-parser"),i=o.createRoute,u=o.getRoute;function a(e){return void 0===e&&(e=window.location),e.href.replace(e.origin,"")}module.exports=function(n){void 0===n&&(n=[]);var o,c=n.map(function(e){return i(e[0],e[1])});function f(e){return Promise.resolve(u(e,c))}return"undefined"!=typeof window?function(n,i){var u=r.default?r.default():r();function c(e){return void 0===e&&(e=a()),u.emit("navigate",e),f(e).then(function(e){return requestAnimationFrame(function(){t(n,o,o=e),u.emit("render")})}).then(function(){return window.history.pushState({},document.title,e)})}return e(function(e){return c(a(e))}),window.onpopstate=function(e){return c(a(e.target.location))},c().then(i),Object.assign(u,{render:c})}:f};
//# sourceMappingURL=loll-router.js.map
