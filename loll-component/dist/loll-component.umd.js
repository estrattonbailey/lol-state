!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){var t=require("nanomorph"),e=require("nanoassert");module.exports=function(n){e.ok("object"==typeof n,"component is not an object"),e.ok("function"==typeof n.render,"component.render() must be a function"),n.update&&e.ok("function"==typeof n.update,"component.update() must be a function"),Object.assign(n,{state:{},ref:null,setState:function(r){if(!o(n.props,n.state))return function(){};var a="function"==typeof r?r(n.state):r;return e.ok("object"==typeof a,"setState received a value that was not an object"),Object.assign(n.state,a),function(){t(n.ref,n.render(n.props,n.state))}}});function o(t,e){return!n.update||n.update(t,e)}return function(t,r){if(void 0===r&&(r={}),e.ok("object"==typeof r,"external state passed to component must be an object"),n.ref||(n.state=Object.assign(r,n.initialState?n.initialState(t):{}),n.ref=n.render(t,n.state),n.props=t),!o(t,function(t,e){var n={};for(var o in t)n[o]=t[o];for(var r in e)n[r]=e[r];return n}(n.state,r)))return n.ref;var a=r;n.props=t;for(var f in a)if(n.state[f]!==a[f]){n.setState(a)();break}return n.ref}}});
//# sourceMappingURL=loll-component.umd.js.map
